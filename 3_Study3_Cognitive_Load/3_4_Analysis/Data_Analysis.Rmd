---
title: "Untitled"
author: "wujiaqi"
date: "2025-07-29"
output: html_document
---

```{r}
# 配置R包
if (!require(pacman)){
        install.packages("pacman")
        library(pacman)
}

pacman::p_load(
  dplyr
)
```

```{r}
data <- read.csv("exp3_123.csv")
df <- data%>%
  dplyr::filter(phase != "")%>%
  dplyr::filter(stage == "response" & phase == "main")%>%
  dplyr::select(
    subj_idx,
    # gender,
    # year,
    TaskRelevance,
    CognitiveLoad,
    isMatch,
    shapeMeaning,
    nBack_shape,
    nBack_color,
    nBack_label,
    correct_response,
    response,
    correct,
    rt,
    )%>%
  mutate(
    acc = ifelse(correct == "true", 1, 0),
  )
```


```{r}
# 数据自检
df.check <- df%>%
        dplyr::group_by(subj_idx, TaskRelevance, CognitiveLoad, isMatch, shapeMeaning) %>%
        dplyr::summarise(N = length(acc),
                         N_crrct = sum(acc),
                         ACC = sum(acc)/length(acc)) %>%
  
        dplyr::ungroup()

df.check
```

```{r}
result <- df %>% 
  group_by(nBack_shape) %>% 
  summarise(Count = n()) %>% 
  ungroup()
result
```



